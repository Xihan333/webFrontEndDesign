import{d as p,D as i,_ as h,c as n,e,q as g,h as f,n as a,w as r,v as u,F as N,G as v,o as m}from"./index-f7ad59d0.js";/* empty css             *//* empty css                 */import{c as l,d as y,e as D}from"./systemServ-e269404b.js";import{m as d,a as b}from"./messageBox-72a6a563.js";const _=p({data:()=>({nodes:[],editedNode:{},currentNode:{},deleteId:-1,dialogTitle:"",defaultProps:{id:"id",children:"children",label:"label"}}),async created(){this.nodes=await l()},methods:{onNodeClick(t){this.currentNode=t},addItemFirst(){this.editedNode={},this.editedNode.pid=null,this.editedNode.parentTitle="",this.dialogTitle="添加字典名对话框",i("favDialog").show()},addItem(){this.editedNode={},this.editedNode.pid=this.currentNode.id,this.editedNode.parentTitle=this.currentNode.title,this.dialogTitle="添加字典项对话框",i("favDialog").show()},editItem(){this.editedNode=this.currentNode,this.dialogTitle="修改菜单对话框",i("favDialog").show()},close(){i("favDialog").close()},async confirm(){this.close();const t=await y(this.editedNode);t.code==0?(d(this,"保存成功"),this.nodes=await l()):d(this,t.msg)},async deleteItem(){if(!await b("确认删除吗?"))return;const o=await D(this.currentNode.id);o.code==0?(d(this,"删除成功"),this.nodes=await l()):d(this,o.msg)}}}),B={class:"base_form"},I=e("div",{class:"base_header"},[e("div",{class:"blue_column"}),e("div",{class:"base_title"},"字典管理")],-1),C={class:"base_query_oneLine"},k={class:"query_left"},w={key:0,style:{"margin-top":"5px"}},T={id:"favDialog",onclose:"close()",style:{position:"absolute",top:"300px",left:"300px",width:"300px",height:"210px"}},E={class:"base_title"},F={class:"dialog-div",style:{"margin-top":"5px"}},$={class:"dialog-content"},V=e("td",{colspan:"1",style:{"text-align":"right"}},"字典名",-1),A={colspan:"1"},q=e("td",{colspan:"1",style:{"text-align":"right"}},"数据值",-1),L={colspan:"1"},M=e("td",{colspan:"1",style:{"text-align":"right"}},"数据标题",-1),P={colspan:"1"},S={colspan:"2"};function U(t,o,G,j,z,H){const c=v;return m(),n(N,null,[e("div",B,[I,e("div",C,[e("div",k,[e("button",{style:{"margin-left":"5px"},class:"commButton",onClick:o[0]||(o[0]=(...s)=>t.addItemFirst&&t.addItemFirst(...s))}," 添加数据项名 "),e("button",{class:"commButton",style:{"margin-left":"5px"},onClick:o[1]||(o[1]=(...s)=>t.addItem&&t.addItem(...s))}," 添加数据项 "),e("button",{class:"commButton",style:{"margin-left":"5px"},onClick:o[2]||(o[2]=(...s)=>t.editItem&&t.editItem(...s))}," 修改 "),e("button",{class:"commButton",style:{"margin-left":"5px"},onClick:o[3]||(o[3]=(...s)=>t.deleteItem&&t.deleteItem(...s))}," 删除 ")])]),t.nodes!==null?(m(),n("div",w,[g(c,{data:t.nodes,props:t.defaultProps,accordion:"",onNodeClick:t.onNodeClick},null,8,["data","props","onNodeClick"])])):f("",!0)]),e("dialog",T,[e("div",E,a(t.dialogTitle),1),e("div",F,[e("table",$,[e("tr",null,[V,e("td",A,a(t.editedNode.parentTitle),1)]),e("tr",null,[q,e("td",L,[r(e("input",{"onUpdate:modelValue":o[4]||(o[4]=s=>t.editedNode.value=s),class:"commInput"},null,512),[[u,t.editedNode.value]])])]),e("tr",null,[M,e("td",P,[r(e("input",{"onUpdate:modelValue":o[5]||(o[5]=s=>t.editedNode.title=s),class:"commInput"},null,512),[[u,t.editedNode.title]])])]),e("tr",null,[e("td",S,[e("button",{class:"commButton",onClick:o[6]||(o[6]=s=>t.close()),style:{"margin-right":"30px","margin-left":"80px"}}," 取消 "),e("button",{class:"commButton",onClick:o[7]||(o[7]=s=>t.confirm())},"确认")])])])])])],64)}const W=h(_,[["render",U]]);export{W as default};
